<html th:replace="~{layout/base :: layout}" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="css">
    <link rel="stylesheet" th:href="@{/css/crearColeccion.css}" />
</div>

<div class="container admin-main" th:fragment="contenido">
    <div class="page-header">
        <div class="breadcrumb">
            <a th:href="@{/admin/panel-control}">Panel Principal</a>
            <i class="fas fa-chevron-right"></i>
            <span>Editar Colección</span>
        </div>
        <h1 th:text="${coleccion.titulo}">Editar Colección</h1>
    </div>

    <div class="form-container">
        <form th:action="@{/admin/coleccion/{handle}/editar(handle=${coleccion.handle})}"
              th:object="${coleccion}" method="post" class="collection-form">

            <input type="hidden" th:if="${_csrf != null}"
                   th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <section class="form-section">
                <div class="form-group">
                    <label class="form-label" for="titulo">Título</label>
                    <input id="titulo" type="text" class="form-input" th:field="*{titulo}" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="descripcion">Descripción</label>
                    <textarea id="descripcion" class="form-textarea" rows="4" th:field="*{descripcion}"></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Handle</label>
                    <input type="text" class="form-input" th:field="*{handle}" readonly>
                </div>
            </section>

            <section class="form-section">
                <h2 class="section-title">Configuración</h2>
                <div class="form-group">
                    <label class="form-label" for="consenso">Algoritmo de Consenso</label>
                    <select id="consenso" class="form-select" th:field="*{algoritmoDeConsenso}">
                        <option value="">-- Seleccionar --</option>
                        <option th:each="a : ${algoritmosDisponibles}"
                                th:value="${a}"
                                th:text="${a}">
                        </option>

                    </select>
                </div>
            </section>

            <div class="form-actions">
                <a th:href="@{/admin/panel-control}" class="btn-cancel">
                    <i class="fas fa-times"></i> Cancelar
                </a>
                <button type="submit" class="btn-create">
                    <i class="fas fa-check"></i> Guardar Cambios
                </button>
            </div>
        </form>
    </div>
</div>
</html>
