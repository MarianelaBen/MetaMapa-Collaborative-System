<!--/*@thymesVar id="hecho" type="ar.utn.ba.ddsi.Metamapa.dtos.HechoDTO"*/-->
<!--/*@thymesVar id="categorias" type="java.util.List<java.lang.String>"*/-->

<html th:replace="~{layout/base :: layout}" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="css">
    <link rel="stylesheet" th:href="@{/css/editorHechos.css}" />
</div>

<div class="container" th:fragment="contenido">

    <div class="breadcrumb">
        <a th:href="@{/misHechos}"> Mis Hechos </a> ‚Ä∫
        <span>Edici√≥n del Hecho</span>
    </div>

    <!-- Formulario de edici√≥n -->
    <form th:action="@{/hechos/{id}/editar(id=${hechoId})}"
          th:object="${hecho}"
          method="post"
          enctype="multipart/form-data">

        <div class="fact-container">
            <div class="fact-main">
                <div class="fact-header">
                    <div class="editable-line">
                    <input class="fact-title"
                           th:field="*{titulo}"
                           type="text"
                           placeholder="T√≠tulo del hecho" />
                        <button class="btn-editar" type="button" title="Editar">
                            <i class="fa-solid fa-pen"></i>
                        </button>
                    </div>

                        <select class="fact-category" th:field="*{categoria}">
                            <option th:each="cat : ${categorias}"
                                    th:value="${cat}"
                                    th:text="${cat}">
                            </option>
                        </select>

                    <!-- Estado visual (opcional, solo decorativo por ahora) -->
                    <div class="fact-status" style="margin-top: .75rem;">
                        <div class="consensus-indicator">
                            <div class="consensus-dot consensus-verified"></div>
                            <span><strong>Estado:</strong> Verificado por consenso</span>
                        </div>
                    </div>
                </div>

                <div class="fact-content">
                    <section>
                        <h3 class="section-title">
                            Descripci√≥n
                            <button class="btn-editar" type="button" title="Editar">
                                <i class="fa-solid fa-pen"></i>
                            </button>
                        </h3>

                        <textarea class="fact-description"
                                  th:field="*{descripcion}"
                                  rows="6"
                                  placeholder="Describe el hecho con el mayor detalle posible..."></textarea>
                    </section>

                    <!-- Multimedia -->
                    <section class="multimedia-section">
                        <h3 class="multimedia-title">Contenido Multimedia</h3>

                        <!-- listado simple de archivos ya adjuntos -->
                        <div class="multimedia-grid"
                             th:if="${hecho.idContenidoMultimedia != null and !#lists.isEmpty(hecho.idContenidoMultimedia)}">
                            <div class="multimedia-item"
                                 th:each="path : ${hecho.idContenidoMultimedia}">
                                <div class="multimedia-placeholder"
                                     th:text="${#strings.substringAfterLast(path,'/')}">archivo.jpg</div>
                            </div>
                        </div>

                        <!-- agregar nuevos archivos -->
                        <div style="margin-top: .75rem;">
                            <input type="file" name="multimedia" multiple />
                            <small class="text-muted" style="display:block;margin-top:.25rem;">
                                Pod√©s seleccionar varias im√°genes/videos a la vez.
                            </small>
                        </div>
                    </section>

                    <!-- Acciones -->
                    <div style="display:flex; gap:.75rem; flex-wrap:wrap;">
                        <button type="submit" class="btn btn-success">Guardar Cambios</button>
                        <a th:href="@{/hechos/{id}(id=${hechoId})}" class="btn btn-secondary">Cancelar</a>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="fact-sidebar">
                <!-- Info b√°sica -->
                <div class="info-card">
                    <h3>Informaci√≥n B√°sica</h3>

                    <table class="metadata-table">
                        <tr>
                            <td>Fecha del acontecimiento:</td>
                            <td class="editable-cell">
                                <input type="date"
                                       name="fecha"
                                       th:value="${hecho.fechaAcontecimiento != null ? #temporals.format(hecho.fechaAcontecimiento,'yyyy-MM-dd') : ''}"/>
                                <button class="btn-editar" type="button" title="Editar">
                                    <i class="fa-solid fa-pen"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                        <tr>
                            <td>Hora del acontecimiento:</td>
                            <td class="editable-cell">
                                <input type="time"
                                       name="hora"
                                       th:value="${hecho.fechaAcontecimiento != null ? #temporals.format(hecho.fechaAcontecimiento,'HH:mm') : ''}"/>
                                <button class="btn-editar" type="button" title="Editar">
                                    <i class="fa-solid fa-pen"></i>
                                </button>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- Ubicaci√≥n -->
                <div class="info-card">
                    <h3>Ubicaci√≥n</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Provincia</span>
                            <div class="editable-line">
                                <input class="info-value" th:field="*{provincia}" placeholder="Provincia"/>
                                <button class="btn-editar" type="button" title="Editar">
                                    <i class="fa-solid fa-pen"></i>
                                </button>
                            </div>
                        </div>

                    <div class="location-map">
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üó∫Ô∏è</div>
                            <p>Mapa de referencia<br/> (pendiente de integrar)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </form>

    <!-- Volver -->
    <div style="text-align: center;">
        <a th:href="@{/misHechos}" class="btn btn
        -secondary">‚Üê Volver a Mis Hechos</a>
    </div>

</div>
</html>


<!--
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <meta charset="UTF-8">
    <title>Editor de Hechos - MetaMapa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/header.css">

    <link rel="stylesheet" href="editorHechos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-p8f1X+zvN0..." crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</head>

<body>
    <header class="main-header main-header--contrib">
  <a class="logo" href="/landing/landing.html" aria-label="Ir al inicio">üåç MetaMapa</a>

  <nav class="admin-nav"></nav>

  <div class="header-admin-info">
    <div class="header-actions">
      <button class="btn-notification" aria-label="Notificaciones">
        <i class="fas fa-bell"></i>
        <span class="notification-count">3</span>
      </button>

      <div class="dropdown">
        <button class="user-menu" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" type="button">
          <i class="fas fa-user-circle"></i>
          <span>User</span>
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">
          <li><a class="dropdown-item" href="./misHechos.html">Mis Hechos</a></li>
          <li><a class="dropdown-item" href="../hechosYColecciones/formularioHecho.html">Subir Hecho</a></li>
          <li><a class="dropdown-item" href="../landing/landing.html">Cerrar sesi√≥n</a></li>
        </ul>
      </div>
    </div>
  </div>
</header>
    <main>
        <div class="container">
            <div class="breadcrumb">
                <a href="../landing/landing.html">Mis Hechos</a> ‚Ä∫
                Edici√≥n del Hecho
            </div>

            <div class="fact-container">
                <div class="fact-main">
                    <div class="fact-header">
                        <h1 class="fact-title">Incendio forestal activo en Parque Nacional Los Glaciares <button
                                class="btn-editar" title="Editar"><i class="fa-solid fa-pen"></i></button></h1>

                        <select class="fact-category" type="button">
                            <option selected>Incendio forestal</option>
                            <option value="1">Otra categor√≠a</option>
                            <option value="2">Otra categor√≠a 2</option>
                        </select>

                    </div>

                    <div class="fact-content">
                        <section>
                            <h3 style="margin-bottom: 1rem; color: #2c3e50;">Descripci√≥n <button class="btn-editar"
                                    title="Editar"><i class="fa-solid fa-pen"></i></button>
                            </h3>
                            <p class="fact-description">
                                Incendio de gran magnitud detectado en el sector norte del Parque Nacional Los
                                Glaciares.
                                Las llamas han consumido aproximadamente 1,200 hect√°reas de bosque nativo de lenga y
                                √±ire.
                                Equipos especializados de bomberos forestales trabajan en la zona desde las primeras
                                horas
                                de la madrugada del 12 de agosto, utilizando tanto medios terrestres como a√©reos para
                                combatir el fuego.
                            </p>
                            <p class="fact-description" style="margin-top: 1rem;">
                                Las condiciones meteorol√≥gicas adversas, con vientos de hasta 35 km/h y baja humedad
                                relativa del 20%, han dificultado las tareas de extinci√≥n. Se ha establecido un
                                per√≠metro
                                de seguridad de 5 kil√≥metros y se han evacuado preventivamente las estancias cercanas.
                                No se reportan v√≠ctimas hasta el momento.
                            </p>
                        </section>

                        <section class="multimedia-section">
                            <h3 class="multimedia-title">Contenido Multimedia <button class="btn-editar"
                                    title="Editar"><i class="fa-solid fa-pen"></i></button></h3>
                            <div class="multimedia-grid">
                                <div class="multimedia-item">
                                    <div class="multimedia-placeholder">üì∑</div>
                                </div>
                                <div class="multimedia-item">
                                    <div class="multimedia-placeholder">üé•</div>
                                </div>
                                <div class="multimedia-item">
                                    <div class="multimedia-placeholder">üìä</div>
                                </div>
                            </div>
                        </section>
                        <button class="btn btn-success" onclick="location.href='#'">Guardar Cambios</button>

                    </div>


                </div>

                <div class="fact-sidebar">
                     <div class="info-card">
                    <div class="info-grid">
                        <h3>Informaci√≥n B√°sica</h3>

                        <div class="info-item">
                            <span class="info-label">Fecha del acontecimiento:</span>
                            <span class="info-value"><strong>12 de agosto, 2025</strong> <button class="btn-editar"
                                    title="Editar"><i class="fa-solid fa-pen"></i></button></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Hora del acontecimiento:</span>
                            <span class="info-value"><strong>03:45 hs</strong> <button class="btn-editar"
                                    title="Editar"><i class="fa-solid fa-pen"></i></button></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Fecha de reporte: </span>
                            <span class="info-value"><strong>13 de agosto, 2025</strong> <button class="btn-editar"
                                    title="Editar"><i class="fa-solid fa-pen"></i></button></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Estado: </span>
                            <span class="info-value"><strong>Activo</strong><button class="btn-editar" title="Editar"><i
                                        class="fa-solid fa-pen"></i></button></span>
                        </div>
                        <h3>Ubicaci√≥n</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Provincia</span>
                                <span class="info-value">Santa Cruz <button class="btn-editar" title="Editar"><i
                                            class="fa-solid fa-pen"></i></button></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Localidad</span>
                                <span class="info-value">El Calafate <button class="btn-editar" title="Editar"><i
                                            class="fa-solid fa-pen"></i></button></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">√Årea espec√≠fica</span>
                                <span class="info-value">Parque Nacional Los Glaciares - Sector Norte <button
                                        class="btn-editar" title="Editar"><i
                                            class="fa-solid fa-pen"></i></button></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Coordenadas</span>
                                <span class="info-value">-50.2938, -73.0138 <button class="btn-editar" title="Editar"><i
                                            class="fa-solid fa-pen"></i></button></span>
                            </div>
                        </div>
                    </div>
                     </div>


                </div>
            </div>

            <div style="text-align: center;">
                <a href="../hechosYColecciones/detalleHecho.html" class="btn btn-secondary">‚Üê Volver al Hecho</a>
            </div>
        </div>
    </main>


    <footer class="site-footer">
        <div class="footer-container">

            <div class="footer-col">
                <h4>Informaci√≥n</h4>
                <ul>
                    <li><a href="../landing/privacidad.html">Informaci√≥n Legal & Privacidad</a></li>
                    <li><a href="#">Preguntas Frecuentes</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h4>Contacto</h4>
                <ul class="contact-list">
                    <li><i class="fa-regular fa-envelope"></i>
                        <a href="mailto:info@metamapa.com">info@metamapa.com</a>
                    </li>
                    <li><i class="fa-solid fa-phone"></i>
                        <a href="tel:+1234567890">+11 3456 7890</a>
                    </li>
                    <li class="muted">Horario: Lunes - Viernes, 9:00 - 17:00</li>
                </ul>
            </div>

            <div class="footer-col">
                <h4>Seguinos</h4>
                <div class="socials">
                    <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#" aria-label="LinkedIn"><i class="fa-brands fa-linkedin-in"></i></a>
                </div>
            </div>

            <div class="footer-col">
                <h4>MetaMapa</h4>
                <p class="about">Ofreciendo soluciones innovadoras para un futuro conectado.</p>
                <p class="muted">¬© 2025 MetaMapa. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>
</body>

</html>

-->