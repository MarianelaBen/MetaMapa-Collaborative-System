spring.datasource.url=jdbc:mysql://${MYSQLHOST}:${MYSQLPORT}/agregador?useSSL=true&allowPublicKeyRetrieval=true&serverTimezone=UTC

spring.datasource.username=${MYSQLUSER}
spring.datasource.password=${MYSQLPASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
logging.level.org.hibernate=ERROR
minio.public-url=http://dummy
minio.url=http://dummy
minio.access-key=dummy
minio.secret-key=dummy
minio.bucket=dummy
server.port=8083
servicios.dinamica.base-url=https://fuentedinamica-production-b73f.up.railway.app/api/hechos
servicios.estatica.base-url=https://fuenteestatica-production-f039.up.railway.app/api/hechos
servicios.proxy.base-url=https://fuenteproxy-production-8655.up.railway.app/api/hechos
servicios.estadisticas.base-url=https://estadisticas-production-b019.up.railway.app
auth.service.url=https://serviciousuarios-production.up.railway.app/api
servicios.frontend.base-url=https://frontend-production-d131.up.railway.app
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
app.upload-dir=${user.dir}/uploads

# Configuracion de los archivos
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=200MB

spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd

management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.prometheus.metrics.export.enabled=true
management.endpoint.prometheus.access=unrestricted

spring.graphql.path=/graphql
spring.graphql.schema.locations=classpath:graphql/
spring.graphql.graphiql.enabled=true
spring.graphql.graphiql.path=/graphiql


# Activar el empaquetado de sentencias (Batching)
spring.jpa.properties.hibernate.jdbc.batch_size=500
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Opcional: Para ver si funciona, activa las estad�sticas (luego b�rralo)
# spring.jpa.properties.hibernate.generate_statistics=true



